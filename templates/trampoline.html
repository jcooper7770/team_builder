<!doctype html>
<html>
<head>
  <style type="text/css">
  .practices {
    height:700px;
    overflow-y:auto;
  }
  </style>
  <title>Trampoline Logger</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body style="background-color:lightblue;">
<table align="center">
<tr>
  <td rowspan=1>
  <p style="text-align:center;"><img src="flippinCoopLogo.png" width=200 height=200></p>
  </td>
  <td colspan=4 height="80%"><font size="+30" style="text-align:center;">Trampoline Practice Logging</font></td>
</tr>
</table>
<br><br>

<!-- Test table with boobstrap
<div class="container">
  <h2> Test thingy </h2>
  <table class="table table-striped">
    <thead>
      <tr><th>test 1</th><th>test2</th></tr>
    </thead>
    <tbody>
      <tr><td>r1c1</td><td>r1c2</td></tr>
      <tr><td>r1c1</td><td>r1c2</td></tr>
      <tr><td>r1c1</td><td>r1c2</td></tr>
    </tbody>
  </table>
</div>
-->

<div class="form-group">
<table align="center">
<tr><td>
<form action="{{ url_for('trampoline_log') }}" method="post" id="logger" style="text-align:left;">

<!-- Username -->
<div class="form-row">
<div class="col">
<label for="name">Username:</label>
</div>
<div class="col">
<input type="text" id="name" name="name" placeholder="new username" value="{{username}}" class="form-control"><br>
</div>
</div>

<!-- Event to be logged -->
<div class="form-row">
<div class="col">
Event:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div>
<div class="col">
<select name="event" id="event">
  <option value="trampoline"{% if event=="trampoline" %} selected{% endif %}>Trampoline</option>
  <option value="dmt"{% if event=="dmt" %} selected{% endif %}>Double Mini</option>
</select><br>
</div>
</div>

<!-- Skills to be logged -->
<div class="form-row">
<div class="col">
<textarea id="log" name="log" rows="10" cols="50" form="logger" placeholder="Input your routines here">{{routine_text}}</textarea>
</div>
</div>
<br>

<!-- Notes -->
<div class="form-row">
<div class="col">
Notes:
</div>
<div class=col">
<input type="text" id="notes" name="notes" value="">
</div>
</div>

<br>
<button type="submit" class="btn btn-primary">Submit</button>
</form>
</div>

<!--- Deleting past data --->
<form method="post" id="clear-form" style='text-align:left;'>
<button type="submit" id="delete-button" class="btn btn-primary">Delete Historical Data</button>
<button id="delete-day-button" class="btn btn-primary">Delete Today's Data</button>
</form>
</td></tr>
</table>

<script src="https://code.jquery.com/jquery-3.5.1.js"
          integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
          crossorigin="anonymous"></script>
 
  <script type="text/javascript">
    $("#delete-button").click(function(e){
    	e.preventDefault();
    	$.ajax({
      		type: 'GET',
      		url: "/logger/_clear",
      		success: function(data){
                 alert("Deleted data");
         	}
    	});
    });

    $("#delete-day-button").click(function(e){
    $.ajax({
      type: 'GET',
      url: "/logger/_clearDay",
      success: function(data){
                 alert("Deleted data");
               }
    });
    });
</script>


<br><br>
{{body|safe}}
<br>

<br><br><br>

<!-- Index for tables -->
<table align='center' border=1 style='background-color:#FFFFFF;'>
<tr>
<th align='center' colspan=9>Index</th>
</tr>
<tr>
  <td>Skill 1</td>
  <td>Skill 2</td>
  <td></td>
  <td># skills in this turn</td>
  <td># flips in this turn</td>
  <td># total skills in practice</td>
  <td># total flips in practice</td>
  <td>DoD for turn</td>
  <td>total DoD for practice</td>
</tr>
</table>


</body>
</html>